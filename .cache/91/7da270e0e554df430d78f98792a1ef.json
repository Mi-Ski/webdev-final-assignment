{"id":"../node_modules/@antv/l7-source/es/parser/geojson.js","dependencies":[{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\geojson.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\package.json","includedInParent":true,"mtime":1638980225037},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\package.json","includedInParent":true,"mtime":1638979319341},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":1,"column":28},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\geojson.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\defineProperty.js"},{"name":"@mapbox/geojson-rewind","loc":{"line":7,"column":19},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\geojson.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@mapbox\\geojson-rewind\\index.js"},{"name":"@turf/invariant","loc":{"line":8,"column":26},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\geojson.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@turf\\invariant\\dist\\es\\index.js"},{"name":"@turf/meta","loc":{"line":9,"column":26},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\geojson.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@turf\\meta\\dist\\es\\index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = geoJSON;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _geojsonRewind = _interopRequireDefault(require(\"@mapbox/geojson-rewind\"));\n\nvar _invariant = require(\"@turf/invariant\");\n\nvar turfMeta = _interopRequireWildcard(require(\"@turf/meta\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction geoJSON(data, cfg) {\n  var resultData = [];\n  var featureKeys = {};\n  data.features = data.features.filter(function (item) {\n    var geometry = item.geometry;\n    return item != null && geometry && geometry.type && geometry.coordinates && geometry.coordinates.length > 0;\n  });\n  (0, _geojsonRewind.default)(data, true);\n\n  if (data.features.length === 0) {\n    return {\n      dataArray: [],\n      featureKeys: featureKeys\n    };\n  }\n\n  var i = 0;\n  turfMeta.flattenEach(data, function (currentFeature, featureIndex) {\n    var coord = (0, _invariant.getCoords)(currentFeature);\n    var id = featureIndex;\n\n    var dataItem = _objectSpread(_objectSpread({}, currentFeature.properties), {}, {\n      coordinates: coord,\n      _id: id\n    });\n\n    resultData.push(dataItem);\n  });\n  return {\n    dataArray: resultData,\n    featureKeys: featureKeys\n  };\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":10,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":12,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":14,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":60,"column":0}},{"source":"../../src/parser/geojson.ts","name":"geoJSON","original":{"line":20,"column":24},"generated":{"line":60,"column":9}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":60,"column":16}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":21,"column":2},"generated":{"line":60,"column":17}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":60,"column":21}},{"source":"../../src/parser/geojson.ts","name":"cfg","original":{"line":22,"column":2},"generated":{"line":60,"column":23}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":60,"column":26}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":60,"column":28}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":61,"column":0}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":24,"column":8},"generated":{"line":61,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":24,"column":36},"generated":{"line":61,"column":16}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":61,"column":19}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":61,"column":21}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":62,"column":0}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":25,"column":8},"generated":{"line":62,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":62,"column":17}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":25,"column":35},"generated":{"line":62,"column":20}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":62,"column":22}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":2},"generated":{"line":63,"column":0}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":2},"generated":{"line":63,"column":2}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":63,"column":6}},{"source":"../../src/parser/geojson.ts","name":"features","original":{"line":26,"column":7},"generated":{"line":63,"column":7}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":2},"generated":{"line":63,"column":15}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":18},"generated":{"line":63,"column":18}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":63,"column":22}},{"source":"../../src/parser/geojson.ts","name":"features","original":{"line":26,"column":23},"generated":{"line":63,"column":23}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":18},"generated":{"line":63,"column":31}},{"source":"../../src/parser/geojson.ts","name":"filter","original":{"line":26,"column":32},"generated":{"line":63,"column":32}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":18},"generated":{"line":63,"column":38}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":63,"column":39}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":26,"column":40},"generated":{"line":63,"column":49}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":63,"column":53}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":58},"generated":{"line":63,"column":55}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":64,"column":0}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":27,"column":10},"generated":{"line":64,"column":8}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":64,"column":16}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":27,"column":38},"generated":{"line":64,"column":19}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":27,"column":42},"generated":{"line":64,"column":23}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":27,"column":43},"generated":{"line":64,"column":24}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":64,"column":32}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":65,"column":0}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":29,"column":6},"generated":{"line":65,"column":11}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":65,"column":15}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":65,"column":19}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":29,"column":6},"generated":{"line":65,"column":23}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":30,"column":6},"generated":{"line":65,"column":27}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":29,"column":6},"generated":{"line":65,"column":35}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":31,"column":6},"generated":{"line":65,"column":39}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":31,"column":14},"generated":{"line":65,"column":47}},{"source":"../../src/parser/geojson.ts","name":"type","original":{"line":31,"column":15},"generated":{"line":65,"column":48}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":29,"column":6},"generated":{"line":65,"column":52}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":32,"column":6},"generated":{"line":65,"column":56}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":65,"column":64}},{"source":"../../src/parser/geojson.ts","name":"coordinates","original":{"line":32,"column":15},"generated":{"line":65,"column":65}},{"source":"../../src/parser/geojson.ts","name":"item","original":{"line":29,"column":6},"generated":{"line":65,"column":76}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":33,"column":6},"generated":{"line":65,"column":80}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":65,"column":88}},{"source":"../../src/parser/geojson.ts","name":"coordinates","original":{"line":33,"column":15},"generated":{"line":65,"column":89}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":33,"column":6},"generated":{"line":65,"column":100}},{"source":"../../src/parser/geojson.ts","name":"length","original":{"line":33,"column":27},"generated":{"line":65,"column":101}},{"source":"../../src/parser/geojson.ts","name":"geometry","original":{"line":33,"column":6},"generated":{"line":65,"column":107}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":33,"column":36},"generated":{"line":65,"column":110}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":65,"column":111}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":66,"column":0}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":18},"generated":{"line":66,"column":3}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":26,"column":2},"generated":{"line":66,"column":4}},{"source":"../../src/parser/geojson.ts","name":"rewind","original":{"line":36,"column":2},"generated":{"line":67,"column":0}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":36,"column":9},"generated":{"line":67,"column":30}},{"source":"../../src/parser/geojson.ts","name":"rewind","original":{"line":36,"column":2},"generated":{"line":67,"column":34}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":67,"column":36}},{"source":"../../src/parser/geojson.ts","name":"rewind","original":{"line":36,"column":2},"generated":{"line":67,"column":40}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":69,"column":0}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":37,"column":6},"generated":{"line":69,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":69,"column":10}},{"source":"../../src/parser/geojson.ts","name":"features","original":{"line":37,"column":11},"generated":{"line":69,"column":11}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":37,"column":6},"generated":{"line":69,"column":19}},{"source":"../../src/parser/geojson.ts","name":"length","original":{"line":37,"column":20},"generated":{"line":69,"column":20}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":37,"column":6},"generated":{"line":69,"column":26}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":69,"column":31}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":69,"column":32}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":69,"column":34}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":70,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":70,"column":11}},{"source":"../../src/parser/geojson.ts","name":"dataArray","original":{"line":39,"column":6},"generated":{"line":71,"column":0}},{"source":"../../src/parser/geojson.ts","name":"dataArray","original":{"line":39,"column":6},"generated":{"line":71,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":71,"column":15}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":71,"column":17}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":71,"column":19}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":40,"column":6},"generated":{"line":72,"column":0}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":40,"column":6},"generated":{"line":72,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":72,"column":17}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":40,"column":6},"generated":{"line":72,"column":19}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":73,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":73,"column":5}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":42,"column":3},"generated":{"line":74,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":76,"column":0}},{"source":"../../src/parser/geojson.ts","name":"i","original":{"line":44,"column":8},"generated":{"line":76,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":76,"column":7}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":76,"column":10}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":76,"column":11}},{"source":"../../src/parser/geojson.ts","name":"turfMeta","original":{"line":46,"column":2},"generated":{"line":77,"column":0}},{"source":"../../src/parser/geojson.ts","name":"turfMeta","original":{"line":46,"column":2},"generated":{"line":77,"column":2}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":77,"column":10}},{"source":"../../src/parser/geojson.ts","name":"flattenEach","original":{"line":46,"column":11},"generated":{"line":77,"column":11}},{"source":"../../src/parser/geojson.ts","name":"turfMeta","original":{"line":46,"column":2},"generated":{"line":77,"column":22}},{"source":"../../src/parser/geojson.ts","name":"data","original":{"line":47,"column":4},"generated":{"line":77,"column":23}},{"source":"../../src/parser/geojson.ts","name":"turfMeta","original":{"line":46,"column":2},"generated":{"line":77,"column":27}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":77,"column":29}},{"source":"../../src/parser/geojson.ts","name":"currentFeature","original":{"line":48,"column":5},"generated":{"line":77,"column":39}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":77,"column":53}},{"source":"../../src/parser/geojson.ts","name":"featureIndex","original":{"line":48,"column":54},"generated":{"line":77,"column":55}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":77,"column":67}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":48,"column":79},"generated":{"line":77,"column":69}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":78,"column":0}},{"source":"../../src/parser/geojson.ts","name":"coord","original":{"line":49,"column":12},"generated":{"line":78,"column":8}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":49,"column":17},"generated":{"line":78,"column":13}},{"source":"../../src/parser/geojson.ts","name":"getCoords","original":{"line":49,"column":20},"generated":{"line":78,"column":16}},{"source":"../../src/parser/geojson.ts","name":"currentFeature","original":{"line":49,"column":30},"generated":{"line":78,"column":42}},{"source":"../../src/parser/geojson.ts","name":"getCoords","original":{"line":49,"column":20},"generated":{"line":78,"column":56}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":78,"column":57}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":79,"column":0}},{"source":"../../src/parser/geojson.ts","name":"id","original":{"line":50,"column":12},"generated":{"line":79,"column":8}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":50,"column":14},"generated":{"line":79,"column":10}},{"source":"../../src/parser/geojson.ts","name":"featureIndex","original":{"line":50,"column":17},"generated":{"line":79,"column":13}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":79,"column":25}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":81,"column":0}},{"source":"../../src/parser/geojson.ts","name":"dataItem","original":{"line":51,"column":12},"generated":{"line":81,"column":8}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":16}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":19}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":32}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":33}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":46}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":47}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":49}},{"source":"../../src/parser/geojson.ts","name":"currentFeature","original":{"line":52,"column":11},"generated":{"line":81,"column":51}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":52,"column":25},"generated":{"line":81,"column":65}},{"source":"../../src/parser/geojson.ts","name":"properties","original":{"line":52,"column":26},"generated":{"line":81,"column":66}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":76}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":77}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":79}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":81}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":81,"column":83}},{"source":"../../src/parser/geojson.ts","name":"coordinates","original":{"line":53,"column":8},"generated":{"line":82,"column":0}},{"source":"../../src/parser/geojson.ts","name":"coordinates","original":{"line":53,"column":8},"generated":{"line":82,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":82,"column":17}},{"source":"../../src/parser/geojson.ts","name":"coord","original":{"line":53,"column":21},"generated":{"line":82,"column":19}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":82,"column":24}},{"source":"../../src/parser/geojson.ts","name":"_id","original":{"line":54,"column":8},"generated":{"line":83,"column":0}},{"source":"../../src/parser/geojson.ts","name":"_id","original":{"line":54,"column":8},"generated":{"line":83,"column":6}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":83,"column":9}},{"source":"../../src/parser/geojson.ts","name":"id","original":{"line":54,"column":13},"generated":{"line":83,"column":11}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":84,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":84,"column":5}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":84,"column":6}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":56,"column":6},"generated":{"line":86,"column":0}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":56,"column":6},"generated":{"line":86,"column":4}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":86,"column":14}},{"source":"../../src/parser/geojson.ts","name":"push","original":{"line":56,"column":17},"generated":{"line":86,"column":15}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":56,"column":6},"generated":{"line":86,"column":19}},{"source":"../../src/parser/geojson.ts","name":"dataItem","original":{"line":56,"column":22},"generated":{"line":86,"column":20}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":56,"column":6},"generated":{"line":86,"column":28}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":87,"column":0}},{"source":"../../src/parser/geojson.ts","name":"turfMeta","original":{"line":46,"column":2},"generated":{"line":87,"column":3}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":88,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":88,"column":9}},{"source":"../../src/parser/geojson.ts","name":"dataArray","original":{"line":61,"column":4},"generated":{"line":89,"column":0}},{"source":"../../src/parser/geojson.ts","name":"dataArray","original":{"line":61,"column":4},"generated":{"line":89,"column":4}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":89,"column":13}},{"source":"../../src/parser/geojson.ts","name":"resultData","original":{"line":61,"column":15},"generated":{"line":89,"column":15}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":89,"column":25}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":62,"column":4},"generated":{"line":90,"column":0}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":62,"column":4},"generated":{"line":90,"column":4}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":90,"column":15}},{"source":"../../src/parser/geojson.ts","name":"featureKeys","original":{"line":62,"column":4},"generated":{"line":90,"column":17}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":91,"column":0}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":91,"column":3}},{"source":"../../src/parser/geojson.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":92,"column":0}}],"sources":{"../../src/parser/geojson.ts":"// @ts-ignore\nimport rewind from '@mapbox/geojson-rewind';\nimport {\n  Feature,\n  FeatureCollection,\n  Geometries,\n  Geometry,\n  Properties,\n} from '@turf/helpers';\nimport { getCoords } from '@turf/invariant';\nimport * as turfMeta from '@turf/meta';\nimport { IFeatureKey, IParseDataItem, IParserData } from '../interface';\ninterface IGeoJSON {\n  features: object[];\n}\ninterface IParserCFG {\n  idField?: string;\n  [key: string]: any;\n}\nexport default function geoJSON(\n  data: FeatureCollection<Geometries, Properties>,\n  cfg?: IParserCFG,\n): IParserData {\n  const resultData: IParseDataItem[] = [];\n  const featureKeys: IFeatureKey = {};\n  data.features = data.features.filter((item: Feature) => {\n    const geometry: Geometry | null = item.geometry as Geometry;\n    return (\n      item != null &&\n      geometry &&\n      geometry.type &&\n      geometry.coordinates &&\n      geometry.coordinates.length > 0\n    );\n  });\n  rewind(data, true); // 设置地理多边形方向 If clockwise is true, the outer ring is clockwise, otherwise it is counterclockwise.\n  if (data.features.length === 0) {\n    return {\n      dataArray: [],\n      featureKeys,\n    };\n  }\n  // 数据为空时处理\n  const i = 0;\n  // multi polygon 拆分\n  turfMeta.flattenEach(\n    data,\n    (currentFeature: Feature<Geometries, Properties>, featureIndex: number) => {\n      const coord = getCoords(currentFeature);\n      const id = featureIndex;\n      const dataItem: IParseDataItem = {\n        ...currentFeature.properties,\n        coordinates: coord,\n        _id: id,\n      };\n      resultData.push(dataItem);\n      // }\n    },\n  );\n  return {\n    dataArray: resultData,\n    featureKeys,\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"9d4bf94b3e58bf376100e5f2305e094c","cacheData":{"env":{}}}