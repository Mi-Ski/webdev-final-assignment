{"id":"../node_modules/@antv/geo-coord/lib/geo.js","dependencies":[{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js.map","includedInParent":true,"mtime":1555413903000},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\package.json","includedInParent":true,"mtime":1638980225037},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\package.json","includedInParent":true,"mtime":1638979319358},{"name":"tslib","loc":{"line":3,"column":22},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\tslib\\tslib.es6.js"},{"name":"./base","loc":{"line":4,"column":21},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\base.js"},{"name":"./geo/crs","loc":{"line":5,"column":20},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo\\crs\\index.js"},{"name":"./geo/geometry/lng-lat","loc":{"line":6,"column":24},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo\\geometry\\lng-lat.js"},{"name":"./geo/geometry/point","loc":{"line":7,"column":22},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\geo-coord\\lib\\geo\\geometry\\point.js"}],"generated":{"js":"\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar base_1 = require(\"./base\");\nvar crs_1 = require(\"./geo/crs\");\nvar lng_lat_1 = require(\"./geo/geometry/lng-lat\");\nvar point_1 = require(\"./geo/geometry/point\");\nvar Geo = /** @class */ (function (_super) {\n    tslib_1.__extends(Geo, _super);\n    function Geo(cfg) {\n        var _this = _super.call(this, tslib_1.__assign({ projection: 'EPSG3857', zoom: 7, mapCenter: [116.400146, 39.926588] }, cfg)) || this;\n        _this.type = 'geo';\n        _this.isGeo = true;\n        cfg.center ? _this.center = cfg.center : _this.center = _this.mapCenter;\n        _this._init();\n        return _this;\n    }\n    Geo.prototype._init = function () {\n        var start = this.start;\n        var end = this.end;\n        this.center = lng_lat_1.toLngLat(this.center);\n        this.width = Math.abs(end.x - start.x);\n        this.height = Math.abs(end.y - start.y);\n        this.crs = crs_1.getCRS(this.projection);\n    };\n    Geo.prototype.getZoom = function () {\n        return this.zoom;\n    };\n    Geo.prototype.setZoom = function (zoom) {\n        this.zoom = zoom;\n    };\n    Geo.prototype.setCenter = function (center) {\n        this.center = lng_lat_1.toLngLat(center);\n    };\n    Geo.prototype.getCenter = function () {\n        return this.center;\n    };\n    /**\n     * 经纬度坐标转画布坐标 统一和其他坐标系传入方式 coordControls使用\n     * @param point\n     */\n    Geo.prototype.convertPoint = function (point) {\n        var lngLat = [point.x, point.y];\n        var ll = this.project(lng_lat_1.toLngLat(lngLat), this.zoom).round();\n        var origin = this.getPixelOrigin();\n        var resPoint = ll.subtract(origin);\n        return { x: resPoint.x, y: resPoint.y };\n    };\n    /**\n     * 画布坐标转经纬坐标 统一和其他坐标系传入方式\n     * @param point\n     */\n    Geo.prototype.invertPoint = function (point) {\n        var newPoint = point_1.toPoint(point);\n        var origin = this.getPixelOrigin();\n        var px = newPoint.add(origin);\n        var lnglat = this.unproject(px, this.zoom);\n        return { x: lnglat.lng, y: lnglat.lat };\n    };\n    /**\n    * 画布坐标转经纬坐标 同convertPoint 对用户使用\n    * @param point\n    */\n    Geo.prototype.layerPointToLatLng = function (point) {\n        var origin = this.getPixelOrigin();\n        var ll = point.add(origin);\n        return this.unproject(ll, this.zoom);\n    };\n    /**\n    * 经纬度坐标转画布坐标 同 invertPoint 对用户使用\n    * @param lngLat\n    */\n    Geo.prototype.latLngToLayerPoint = function (lngLat) {\n        var ll = this.project(lng_lat_1.toLngLat(lngLat), this.zoom).round();\n        var origin = this.getPixelOrigin();\n        return ll.subtract(origin);\n    };\n    // 计算地图中心点像素坐标\n    Geo.prototype.getPixelOrigin = function () {\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n        return this.crs\n            .lngLatToPoint(lng_lat_1.toLngLat(this.center), this.zoom)\n            .subtract({ y: halfHeight, x: halfWidth });\n    };\n    /**\n     * 经纬度坐标转地图像素坐标\n     * @param lnglat\n     * @param zoom\n     */\n    Geo.prototype.project = function (lnglat, zoom) {\n        var newZoom = zoom === undefined ? this.zoom : zoom;\n        return this.crs.lngLatToPoint(lng_lat_1.toLngLat(lnglat), newZoom);\n    };\n    /**\n     * 地图像素坐标转经纬度\n     * @param point\n     * @param zoom\n     */\n    Geo.prototype.unproject = function (point, zoom) {\n        var newZoom = zoom === undefined ? this.zoom : zoom;\n        return this.crs.pointToLngLat(point_1.toPoint(point), newZoom);\n    };\n    Geo.prototype.distance = function (lnglat1, lnglat2) {\n        return this.crs.distance(lng_lat_1.toLngLat(lnglat1), lng_lat_1.toLngLat(lnglat2));\n    };\n    return Geo;\n}(base_1[\"default\"]));\nexports[\"default\"] = Geo;\n"},"sourceMaps":{"js":{"version":3,"file":"geo.js","sourceRoot":"","sources":["../src/geo.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"60e15bc8429fcc5deaf4d4a3a9bfbbbb","cacheData":{"env":{}}}