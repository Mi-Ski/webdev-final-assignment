{"id":"../node_modules/@antv/l7-core/es/services/coordinate/CoordinateSystemService.js","dependencies":[{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\package.json","includedInParent":true,"mtime":1638980225037},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\package.json","includedInParent":true,"mtime":1638979319341},{"name":"@babel/runtime/helpers/initializerDefineProperty","loc":{"line":1,"column":39},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\initializerDefineProperty.js"},{"name":"@babel/runtime/helpers/classCallCheck","loc":{"line":2,"column":28},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\classCallCheck.js"},{"name":"@babel/runtime/helpers/createClass","loc":{"line":3,"column":25},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\createClass.js"},{"name":"@babel/runtime/helpers/defineProperty","loc":{"line":4,"column":28},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\defineProperty.js"},{"name":"@babel/runtime/helpers/applyDecoratedDescriptor","loc":{"line":5,"column":38},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\applyDecoratedDescriptor.js"},{"name":"@babel/runtime/helpers/initializerWarningHelper","loc":{"line":6,"column":38},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@babel\\runtime\\helpers\\initializerWarningHelper.js"},{"name":"gl-matrix","loc":{"line":10,"column":27},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\gl-matrix\\esm\\index.js"},{"name":"inversify","loc":{"line":11,"column":35},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\inversify\\lib\\inversify.js"},{"name":"reflect-metadata","loc":{"line":12,"column":7},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\reflect-metadata\\Reflect.js"},{"name":"../../types","loc":{"line":13,"column":22},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\types.js"},{"name":"../../utils/project","loc":{"line":14,"column":34},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\utils\\project.js"},{"name":"./ICoordinateSystemService","loc":{"line":15,"column":33},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\CoordinateSystemService.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-core\\es\\services\\coordinate\\ICoordinateSystemService.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _initializerDefineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerDefineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _applyDecoratedDescriptor2 = _interopRequireDefault(require(\"@babel/runtime/helpers/applyDecoratedDescriptor\"));\n\nvar _initializerWarningHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/initializerWarningHelper\"));\n\nvar _glMatrix = require(\"gl-matrix\");\n\nvar _inversify = require(\"inversify\");\n\nrequire(\"reflect-metadata\");\n\nvar _types = require(\"../../types\");\n\nvar _project = require(\"../../utils/project\");\n\nvar _ICoordinateSystemService = require(\"./ICoordinateSystemService\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _dec, _dec2, _class, _class2, _descriptor;\n\nvar VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\nvar CoordinateSystemService = (_dec = (0, _inversify.injectable)(), _dec2 = (0, _inversify.inject)(_types.TYPES.ICameraService), _dec(_class = (_class2 = function () {\n  function CoordinateSystemService() {\n    (0, _classCallCheck2.default)(this, CoordinateSystemService);\n    (0, _defineProperty2.default)(this, \"needRefresh\", true);\n    (0, _initializerDefineProperty2.default)(this, \"cameraService\", _descriptor, this);\n    (0, _defineProperty2.default)(this, \"coordinateSystem\", void 0);\n    (0, _defineProperty2.default)(this, \"viewportCenter\", void 0);\n    (0, _defineProperty2.default)(this, \"viewportCenterProjection\", void 0);\n    (0, _defineProperty2.default)(this, \"pixelsPerDegree\", void 0);\n    (0, _defineProperty2.default)(this, \"pixelsPerDegree2\", void 0);\n    (0, _defineProperty2.default)(this, \"pixelsPerMeter\", void 0);\n  }\n\n  (0, _createClass2.default)(CoordinateSystemService, [{\n    key: \"refresh\",\n    value: function refresh() {\n      var zoom = this.cameraService.getZoom();\n      var zoomScale = this.cameraService.getZoomScale();\n      var center = this.cameraService.getCenter();\n\n      var _getDistanceScales = (0, _project.getDistanceScales)({\n        latitude: center[1],\n        zoom: zoom\n      }),\n          pixelsPerMeter = _getDistanceScales.pixelsPerMeter,\n          pixelsPerDegree = _getDistanceScales.pixelsPerDegree;\n\n      this.viewportCenter = center;\n      this.viewportCenterProjection = [0, 0, 0, 0];\n      this.pixelsPerMeter = pixelsPerMeter;\n      this.pixelsPerDegree = pixelsPerDegree;\n      this.pixelsPerDegree2 = [0, 0, 0];\n\n      if (this.coordinateSystem === _ICoordinateSystemService.CoordinateSystem.LNGLAT || this.coordinateSystem === _ICoordinateSystemService.CoordinateSystem.P20) {\n        this.cameraService.setViewProjectionMatrix(undefined);\n      } else if (this.coordinateSystem === _ICoordinateSystemService.CoordinateSystem.LNGLAT_OFFSET) {\n        this.calculateLnglatOffset(center, zoom);\n      } else if (this.coordinateSystem === _ICoordinateSystemService.CoordinateSystem.P20_OFFSET) {\n        this.calculateLnglatOffset(center, zoom, zoomScale, true);\n      }\n\n      this.needRefresh = false;\n    }\n  }, {\n    key: \"getCoordinateSystem\",\n    value: function getCoordinateSystem() {\n      return this.coordinateSystem;\n    }\n  }, {\n    key: \"setCoordinateSystem\",\n    value: function setCoordinateSystem(coordinateSystem) {\n      this.coordinateSystem = coordinateSystem;\n    }\n  }, {\n    key: \"getViewportCenter\",\n    value: function getViewportCenter() {\n      return this.viewportCenter;\n    }\n  }, {\n    key: \"getViewportCenterProjection\",\n    value: function getViewportCenterProjection() {\n      return this.viewportCenterProjection;\n    }\n  }, {\n    key: \"getPixelsPerDegree\",\n    value: function getPixelsPerDegree() {\n      return this.pixelsPerDegree;\n    }\n  }, {\n    key: \"getPixelsPerDegree2\",\n    value: function getPixelsPerDegree2() {\n      return this.pixelsPerDegree2;\n    }\n  }, {\n    key: \"getPixelsPerMeter\",\n    value: function getPixelsPerMeter() {\n      return this.pixelsPerMeter;\n    }\n  }, {\n    key: \"calculateLnglatOffset\",\n    value: function calculateLnglatOffset(center, zoom, scale, flipY) {\n      var _getDistanceScales2 = (0, _project.getDistanceScales)({\n        latitude: center[1],\n        zoom: zoom,\n        scale: scale,\n        flipY: flipY,\n        highPrecision: true\n      }),\n          ppm = _getDistanceScales2.pixelsPerMeter,\n          ppd = _getDistanceScales2.pixelsPerDegree,\n          pixelsPerDegree2 = _getDistanceScales2.pixelsPerDegree2;\n\n      var viewMatrix = this.cameraService.getViewMatrix();\n      var projectionMatrix = this.cameraService.getProjectionMatrix();\n\n      var viewProjectionMatrix = _glMatrix.mat4.multiply([], projectionMatrix, viewMatrix);\n\n      var positionPixels = this.cameraService.projectFlat([Math.fround(center[0]), Math.fround(center[1])], Math.pow(2, zoom));\n      this.viewportCenterProjection = _glMatrix.vec4.transformMat4([], [positionPixels[0], positionPixels[1], 0.0, 1.0], viewProjectionMatrix);\n      viewMatrix = this.cameraService.getViewMatrixUncentered() || viewMatrix;\n      viewProjectionMatrix = _glMatrix.mat4.multiply([], projectionMatrix, viewMatrix);\n      viewProjectionMatrix = _glMatrix.mat4.multiply([], viewProjectionMatrix, VECTOR_TO_POINT_MATRIX);\n      this.cameraService.setViewProjectionMatrix(viewProjectionMatrix);\n      this.pixelsPerMeter = ppm;\n      this.pixelsPerDegree = ppd;\n      this.pixelsPerDegree2 = pixelsPerDegree2;\n    }\n  }]);\n  return CoordinateSystemService;\n}(), _descriptor = (0, _applyDecoratedDescriptor2.default)(_class2.prototype, \"cameraService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _class2)) || _class);\nexports.default = CoordinateSystemService;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":20,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":22,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":24,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":26,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":28,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":30,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":36,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"VECTOR_TO_POINT_MATRIX","original":{"line":13,"column":6},"generated":{"line":36,"column":4}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":28},"generated":{"line":36,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":36,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":31}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":35},"generated":{"line":36,"column":33}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":38},"generated":{"line":36,"column":36}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":41},"generated":{"line":36,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":44},"generated":{"line":36,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":47},"generated":{"line":36,"column":45}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":50},"generated":{"line":36,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":53},"generated":{"line":36,"column":51}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":52}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":56},"generated":{"line":36,"column":54}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":59},"generated":{"line":36,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":58}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":62},"generated":{"line":36,"column":60}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":61}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":65},"generated":{"line":36,"column":63}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":64}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":68},"generated":{"line":36,"column":66}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":67}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":71},"generated":{"line":36,"column":69}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":70}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":74},"generated":{"line":36,"column":72}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":73}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":77},"generated":{"line":36,"column":75}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":36,"column":76}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":36,"column":77}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"CoordinateSystemService","original":{"line":16,"column":21},"generated":{"line":37,"column":4}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"injectable","original":{"line":15,"column":1},"generated":{"line":37,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"inject","original":{"line":19,"column":3},"generated":{"line":37,"column":76}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"TYPES","original":{"line":19,"column":10},"generated":{"line":37,"column":99}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"ICameraService","original":{"line":19,"column":16},"generated":{"line":37,"column":112}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"inject","original":{"line":19,"column":3},"generated":{"line":37,"column":126}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":40,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":52,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":52,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":52,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":68,"column":25},"generated":{"line":52,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":53,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":72,"column":10},"generated":{"line":53,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":53,"column":14}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":53,"column":17}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":72,"column":22},"generated":{"line":53,"column":22}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":53,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getZoom","original":{"line":72,"column":36},"generated":{"line":53,"column":36}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":53,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":53,"column":45}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":54,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoomScale","original":{"line":73,"column":10},"generated":{"line":54,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":54,"column":19}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":54,"column":22}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":73,"column":27},"generated":{"line":54,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":54,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getZoomScale","original":{"line":73,"column":41},"generated":{"line":54,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":54,"column":53}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":54,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":55,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":74,"column":10},"generated":{"line":55,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":16},"generated":{"line":55,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":55,"column":19}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":74,"column":24},"generated":{"line":55,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":55,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getCenter","original":{"line":74,"column":38},"generated":{"line":55,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":55,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":55,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":57,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":57,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":57,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getDistanceScales","original":{"line":77,"column":48},"generated":{"line":57,"column":31}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":66},"generated":{"line":57,"column":63}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"latitude","original":{"line":79,"column":6},"generated":{"line":58,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"latitude","original":{"line":79,"column":6},"generated":{"line":58,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":79,"column":14},"generated":{"line":58,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":79,"column":16},"generated":{"line":58,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":58,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":79,"column":23},"generated":{"line":58,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":58,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":66},"generated":{"line":58,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":80,"column":6},"generated":{"line":59,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":80,"column":6},"generated":{"line":59,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":59,"column":12}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":80,"column":6},"generated":{"line":59,"column":14}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":66},"generated":{"line":60,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getDistanceScales","original":{"line":77,"column":48},"generated":{"line":60,"column":7}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":60,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":61,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":77,"column":12},"generated":{"line":61,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":61,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":61,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":61,"column":45}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":77,"column":12},"generated":{"line":61,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":61,"column":60}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":62,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":77,"column":28},"generated":{"line":62,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":62,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":62,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":62,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":77,"column":28},"generated":{"line":62,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":62,"column":62}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":64,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewportCenter","original":{"line":82,"column":9},"generated":{"line":64,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":64,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":82,"column":26},"generated":{"line":64,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":64,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":65,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewportCenterProjection","original":{"line":83,"column":9},"generated":{"line":65,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":65,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":65,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":37},"generated":{"line":65,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":65,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":40},"generated":{"line":65,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":65,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":43},"generated":{"line":65,"column":45}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":65,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":46},"generated":{"line":65,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":65,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":65,"column":50}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":66,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":84,"column":9},"generated":{"line":66,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":66,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":84,"column":26},"generated":{"line":66,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":66,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":67,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":85,"column":9},"generated":{"line":67,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":67,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":85,"column":27},"generated":{"line":67,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":67,"column":44}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":68,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":86,"column":9},"generated":{"line":68,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":68,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":68,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":29},"generated":{"line":68,"column":31}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":68,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":32},"generated":{"line":68,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":68,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":35},"generated":{"line":68,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":28},"generated":{"line":68,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":68,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":70,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":70,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":89,"column":11},"generated":{"line":70,"column":15}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":70,"column":31}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"CoordinateSystem","original":{"line":89,"column":32},"generated":{"line":70,"column":36}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"LNGLAT","original":{"line":89,"column":49},"generated":{"line":70,"column":79}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":70,"column":85}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":90,"column":6},"generated":{"line":70,"column":89}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":90,"column":11},"generated":{"line":70,"column":94}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":90,"column":6},"generated":{"line":70,"column":110}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"CoordinateSystem","original":{"line":90,"column":32},"generated":{"line":70,"column":115}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"P20","original":{"line":90,"column":49},"generated":{"line":70,"column":158}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":70,"column":161}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":70,"column":163}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":71,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":93,"column":11},"generated":{"line":71,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":71,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"setViewProjectionMatrix","original":{"line":93,"column":25},"generated":{"line":71,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":71,"column":50}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"undefined","original":{"line":93,"column":49},"generated":{"line":71,"column":51}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":71,"column":60}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":72,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":72,"column":7}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":72,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":72,"column":17}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":94,"column":20},"generated":{"line":72,"column":22}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":72,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"CoordinateSystem","original":{"line":94,"column":41},"generated":{"line":72,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"LNGLAT_OFFSET","original":{"line":94,"column":58},"generated":{"line":72,"column":86}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":72,"column":99}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":73},"generated":{"line":72,"column":101}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":73,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"calculateLnglatOffset","original":{"line":95,"column":11},"generated":{"line":73,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":73,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":95,"column":33},"generated":{"line":73,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":73,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":95,"column":41},"generated":{"line":73,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":73,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":74,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":74,"column":7}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":74,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":74,"column":17}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":96,"column":20},"generated":{"line":74,"column":22}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":74,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"CoordinateSystem","original":{"line":96,"column":41},"generated":{"line":74,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"P20_OFFSET","original":{"line":96,"column":58},"generated":{"line":74,"column":86}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":96,"column":11},"generated":{"line":74,"column":96}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":96,"column":70},"generated":{"line":74,"column":98}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"calculateLnglatOffset","original":{"line":97,"column":11},"generated":{"line":75,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":97,"column":33},"generated":{"line":75,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":97,"column":41},"generated":{"line":75,"column":43}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoomScale","original":{"line":97,"column":47},"generated":{"line":75,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":58}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":58},"generated":{"line":75,"column":60}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":75,"column":64}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":98,"column":5},"generated":{"line":76,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":78,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"needRefresh","original":{"line":99,"column":9},"generated":{"line":78,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":78,"column":22}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":99,"column":23},"generated":{"line":78,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":78,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":102,"column":3},"generated":{"line":79,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":104,"column":2},"generated":{"line":82,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":104,"column":2},"generated":{"line":82,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":104,"column":2},"generated":{"line":82,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":104,"column":49},"generated":{"line":82,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":83,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":83,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":105,"column":16},"generated":{"line":83,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":83,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":106,"column":3},"generated":{"line":84,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":108,"column":2},"generated":{"line":87,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":108,"column":2},"generated":{"line":87,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":108,"column":2},"generated":{"line":87,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":108,"column":29},"generated":{"line":87,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":108,"column":2},"generated":{"line":87,"column":56}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":108,"column":65},"generated":{"line":87,"column":58}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":88,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":109,"column":9},"generated":{"line":88,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":88,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"coordinateSystem","original":{"line":109,"column":28},"generated":{"line":88,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":109,"column":4},"generated":{"line":88,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":110,"column":3},"generated":{"line":89,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":92,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":92,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":92,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":112,"column":47},"generated":{"line":92,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":93,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":113,"column":11},"generated":{"line":93,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewportCenter","original":{"line":113,"column":16},"generated":{"line":93,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":93,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":114,"column":3},"generated":{"line":94,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":97,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":97,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":97,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":116,"column":73},"generated":{"line":97,"column":50}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":98,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":117,"column":11},"generated":{"line":98,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewportCenterProjection","original":{"line":117,"column":16},"generated":{"line":98,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":98,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":118,"column":3},"generated":{"line":99,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":102,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":102,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":120,"column":2},"generated":{"line":102,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":120,"column":56},"generated":{"line":102,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":103,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":121,"column":11},"generated":{"line":103,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":121,"column":16},"generated":{"line":103,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":121,"column":4},"generated":{"line":103,"column":33}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":122,"column":3},"generated":{"line":104,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":107,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":107,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":107,"column":39}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":124,"column":57},"generated":{"line":107,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":108,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":125,"column":11},"generated":{"line":108,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":125,"column":16},"generated":{"line":108,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":125,"column":4},"generated":{"line":108,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":126,"column":3},"generated":{"line":109,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":128,"column":2},"generated":{"line":112,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":128,"column":2},"generated":{"line":112,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":128,"column":2},"generated":{"line":112,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":128,"column":55},"generated":{"line":112,"column":40}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":113,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":129,"column":11},"generated":{"line":113,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":129,"column":16},"generated":{"line":113,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":113,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":130,"column":3},"generated":{"line":114,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":133,"column":4},"generated":{"line":117,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":134,"column":4},"generated":{"line":117,"column":50}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":54}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"scale","original":{"line":135,"column":4},"generated":{"line":117,"column":56}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":61}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"flipY","original":{"line":136,"column":4},"generated":{"line":117,"column":63}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":132,"column":2},"generated":{"line":117,"column":68}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":117,"column":70}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":118,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":118,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":118,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getDistanceScales","original":{"line":143,"column":8},"generated":{"line":118,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":118,"column":64}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"latitude","original":{"line":145,"column":6},"generated":{"line":119,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"latitude","original":{"line":145,"column":6},"generated":{"line":119,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":145,"column":14},"generated":{"line":119,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":145,"column":16},"generated":{"line":119,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":145,"column":22},"generated":{"line":119,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":145,"column":23},"generated":{"line":119,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":145,"column":22},"generated":{"line":119,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":119,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":146,"column":6},"generated":{"line":120,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":146,"column":6},"generated":{"line":120,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":146,"column":10},"generated":{"line":120,"column":12}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":146,"column":6},"generated":{"line":120,"column":14}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":120,"column":18}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"scale","original":{"line":147,"column":6},"generated":{"line":121,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"scale","original":{"line":147,"column":6},"generated":{"line":121,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":147,"column":11},"generated":{"line":121,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"scale","original":{"line":147,"column":6},"generated":{"line":121,"column":15}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":121,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"flipY","original":{"line":148,"column":6},"generated":{"line":122,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"flipY","original":{"line":148,"column":6},"generated":{"line":122,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":148,"column":11},"generated":{"line":122,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"flipY","original":{"line":148,"column":6},"generated":{"line":122,"column":15}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":122,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"highPrecision","original":{"line":149,"column":6},"generated":{"line":123,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"highPrecision","original":{"line":149,"column":6},"generated":{"line":123,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":149,"column":19},"generated":{"line":123,"column":21}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":149,"column":21},"generated":{"line":123,"column":23}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":124,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getDistanceScales","original":{"line":143,"column":8},"generated":{"line":124,"column":7}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":124,"column":8}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":125,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"ppm","original":{"line":140,"column":22},"generated":{"line":125,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":125,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":125,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":125,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":140,"column":6},"generated":{"line":125,"column":36}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":125,"column":50}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":126,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"ppd","original":{"line":141,"column":23},"generated":{"line":126,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":126,"column":13}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":126,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":126,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":141,"column":6},"generated":{"line":126,"column":36}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":126,"column":51}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":127,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":142,"column":6},"generated":{"line":127,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":127,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":127,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":127,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":142,"column":6},"generated":{"line":127,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":127,"column":65}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":129,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":152,"column":8},"generated":{"line":129,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":18},"generated":{"line":129,"column":20}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":21},"generated":{"line":129,"column":23}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":152,"column":26},"generated":{"line":129,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":21},"generated":{"line":129,"column":41}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getViewMatrix","original":{"line":152,"column":40},"generated":{"line":129,"column":42}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":21},"generated":{"line":129,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":129,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":4},"generated":{"line":130,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"projectionMatrix","original":{"line":153,"column":10},"generated":{"line":130,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":26},"generated":{"line":130,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":29},"generated":{"line":130,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":153,"column":34},"generated":{"line":130,"column":34}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":29},"generated":{"line":130,"column":47}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getProjectionMatrix","original":{"line":153,"column":48},"generated":{"line":130,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":29},"generated":{"line":130,"column":67}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":153,"column":4},"generated":{"line":130,"column":69}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":154,"column":4},"generated":{"line":132,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":154,"column":8},"generated":{"line":132,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":154,"column":28},"generated":{"line":132,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":154,"column":31},"generated":{"line":132,"column":33}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"multiply","original":{"line":154,"column":36},"generated":{"line":132,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":154,"column":31},"generated":{"line":132,"column":56}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":155,"column":7},"generated":{"line":132,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":154,"column":31},"generated":{"line":132,"column":59}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"projectionMatrix","original":{"line":156,"column":7},"generated":{"line":132,"column":61}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":154,"column":31},"generated":{"line":132,"column":77}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":157,"column":7},"generated":{"line":132,"column":79}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":154,"column":31},"generated":{"line":132,"column":89}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":154,"column":4},"generated":{"line":132,"column":90}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":4},"generated":{"line":134,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"positionPixels","original":{"line":161,"column":10},"generated":{"line":134,"column":10}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":24},"generated":{"line":134,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":134,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":161,"column":32},"generated":{"line":134,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":134,"column":45}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"projectFlat","original":{"line":161,"column":46},"generated":{"line":134,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":134,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":6},"generated":{"line":134,"column":58}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":7},"generated":{"line":134,"column":59}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":11},"generated":{"line":134,"column":63}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"fround","original":{"line":162,"column":12},"generated":{"line":134,"column":64}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":7},"generated":{"line":134,"column":70}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":162,"column":19},"generated":{"line":134,"column":71}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":25},"generated":{"line":134,"column":77}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":26},"generated":{"line":134,"column":78}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":25},"generated":{"line":134,"column":79}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":7},"generated":{"line":134,"column":80}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":6},"generated":{"line":134,"column":81}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":31},"generated":{"line":134,"column":83}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":35},"generated":{"line":134,"column":87}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"fround","original":{"line":162,"column":36},"generated":{"line":134,"column":88}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":31},"generated":{"line":134,"column":94}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"center","original":{"line":162,"column":43},"generated":{"line":134,"column":95}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":49},"generated":{"line":134,"column":101}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":50},"generated":{"line":134,"column":102}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":49},"generated":{"line":134,"column":103}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":162,"column":31},"generated":{"line":134,"column":104}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":162,"column":6},"generated":{"line":134,"column":105}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":134,"column":106}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":163,"column":6},"generated":{"line":134,"column":108}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":163,"column":10},"generated":{"line":134,"column":112}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pow","original":{"line":163,"column":11},"generated":{"line":134,"column":113}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":163,"column":6},"generated":{"line":134,"column":116}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":163,"column":15},"generated":{"line":134,"column":117}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":163,"column":6},"generated":{"line":134,"column":118}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"zoom","original":{"line":163,"column":18},"generated":{"line":134,"column":120}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"Math","original":{"line":163,"column":6},"generated":{"line":134,"column":124}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":134,"column":125}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":161,"column":4},"generated":{"line":134,"column":126}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":135,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewportCenterProjection","original":{"line":167,"column":9},"generated":{"line":135,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":135,"column":35}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"vec4","original":{"line":167,"column":37},"generated":{"line":135,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"transformMat4","original":{"line":167,"column":42},"generated":{"line":135,"column":53}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"vec4","original":{"line":167,"column":37},"generated":{"line":135,"column":66}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":168,"column":7},"generated":{"line":135,"column":67}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"vec4","original":{"line":167,"column":37},"generated":{"line":135,"column":69}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":135,"column":71}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"positionPixels","original":{"line":169,"column":7},"generated":{"line":135,"column":72}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":135,"column":86}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":22},"generated":{"line":135,"column":87}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":21},"generated":{"line":135,"column":88}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":135,"column":89}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"positionPixels","original":{"line":169,"column":26},"generated":{"line":135,"column":91}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":40},"generated":{"line":135,"column":105}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":41},"generated":{"line":135,"column":106}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":40},"generated":{"line":135,"column":107}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":135,"column":108}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":45},"generated":{"line":135,"column":110}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":135,"column":113}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":50},"generated":{"line":135,"column":115}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":135,"column":118}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"vec4","original":{"line":167,"column":37},"generated":{"line":135,"column":119}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":170,"column":7},"generated":{"line":135,"column":121}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"vec4","original":{"line":167,"column":37},"generated":{"line":135,"column":141}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":135,"column":142}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":174,"column":4},"generated":{"line":136,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":174,"column":4},"generated":{"line":136,"column":6}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":174,"column":14},"generated":{"line":136,"column":16}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":174,"column":17},"generated":{"line":136,"column":19}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":174,"column":22},"generated":{"line":136,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":174,"column":17},"generated":{"line":136,"column":37}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"getViewMatrixUncentered","original":{"line":174,"column":36},"generated":{"line":136,"column":38}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":174,"column":17},"generated":{"line":136,"column":61}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":174,"column":65},"generated":{"line":136,"column":67}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":174,"column":4},"generated":{"line":136,"column":77}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":177,"column":4},"generated":{"line":137,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":177,"column":4},"generated":{"line":137,"column":6}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":177,"column":24},"generated":{"line":137,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":177,"column":27},"generated":{"line":137,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"multiply","original":{"line":177,"column":32},"generated":{"line":137,"column":44}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":177,"column":27},"generated":{"line":137,"column":52}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":178,"column":7},"generated":{"line":137,"column":53}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":177,"column":27},"generated":{"line":137,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"projectionMatrix","original":{"line":179,"column":7},"generated":{"line":137,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":177,"column":27},"generated":{"line":137,"column":73}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewMatrix","original":{"line":180,"column":7},"generated":{"line":137,"column":75}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":177,"column":27},"generated":{"line":137,"column":85}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":177,"column":4},"generated":{"line":137,"column":86}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":182,"column":4},"generated":{"line":138,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":182,"column":4},"generated":{"line":138,"column":6}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":182,"column":24},"generated":{"line":138,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":182,"column":27},"generated":{"line":138,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"multiply","original":{"line":182,"column":32},"generated":{"line":138,"column":44}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":182,"column":27},"generated":{"line":138,"column":52}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":183,"column":7},"generated":{"line":138,"column":53}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":182,"column":27},"generated":{"line":138,"column":55}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":184,"column":6},"generated":{"line":138,"column":57}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":182,"column":27},"generated":{"line":138,"column":77}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"VECTOR_TO_POINT_MATRIX","original":{"line":185,"column":7},"generated":{"line":138,"column":79}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"mat4","original":{"line":182,"column":27},"generated":{"line":138,"column":101}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":182,"column":4},"generated":{"line":138,"column":102}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":139,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"cameraService","original":{"line":189,"column":9},"generated":{"line":139,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":139,"column":24}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"setViewProjectionMatrix","original":{"line":189,"column":23},"generated":{"line":139,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":139,"column":48}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"viewProjectionMatrix","original":{"line":190,"column":7},"generated":{"line":139,"column":49}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":139,"column":69}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":193,"column":4},"generated":{"line":140,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerMeter","original":{"line":193,"column":9},"generated":{"line":140,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":193,"column":4},"generated":{"line":140,"column":25}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"ppm","original":{"line":193,"column":26},"generated":{"line":140,"column":28}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":193,"column":4},"generated":{"line":140,"column":31}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":194,"column":4},"generated":{"line":141,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree","original":{"line":194,"column":9},"generated":{"line":141,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":194,"column":4},"generated":{"line":141,"column":26}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"ppd","original":{"line":194,"column":27},"generated":{"line":141,"column":29}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":194,"column":4},"generated":{"line":141,"column":32}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":195,"column":4},"generated":{"line":142,"column":0}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":195,"column":9},"generated":{"line":142,"column":11}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":195,"column":4},"generated":{"line":142,"column":27}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":"pixelsPerDegree2","original":{"line":195,"column":28},"generated":{"line":142,"column":30}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":195,"column":4},"generated":{"line":142,"column":46}},{"source":"../../../src/services/coordinate/CoordinateSystemService.ts","name":null,"original":{"line":196,"column":3},"generated":{"line":143,"column":0}}],"sources":{"../../../src/services/coordinate/CoordinateSystemService.ts":"import { mat4, vec4 } from 'gl-matrix';\nimport { inject, injectable } from 'inversify';\nimport 'reflect-metadata';\nimport { TYPES } from '../../types';\nimport { getDistanceScales } from '../../utils/project';\nimport { ICameraService } from '../camera/ICameraService';\n// import { IMapService } from '../map/IMapService'\nimport {\n  CoordinateSystem,\n  ICoordinateSystemService,\n} from './ICoordinateSystemService';\n\nconst VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\n\n@injectable()\nexport default class CoordinateSystemService\n  implements ICoordinateSystemService {\n  public needRefresh: boolean = true;\n  @inject(TYPES.ICameraService)\n  private readonly cameraService: ICameraService;\n\n  // map.getCenter\n  // @inject(TYPES.IMapService)\n  // private readonly mapService: IMapService\n\n  /**\n   * 1. Web 墨卡托坐标系\n   * 2. 偏移经纬度，用于解决高精度抖动问题\n   * 3. 瓦片坐标，用于数据瓦片\n   * 4. 常规世界坐标系，用于常规 2D/3D 可视化场景\n   * 5. P20 坐标系，高德地图使用\n   * @see https://yuque.antfin-inc.com/yuqi.pyq/fgetpa/doml91\n   */\n  private coordinateSystem: CoordinateSystem;\n\n  /**\n   * 屏幕中心点 [lng, lat]\n   */\n  private viewportCenter: [number, number];\n\n  /**\n   * 屏幕中心点的最终投影结果，在 CPU 侧计算后传入 Shader\n   * @see https://zhuanlan.zhihu.com/p/57469121\n   */\n  private viewportCenterProjection: [number, number, number, number];\n\n  /**\n   * 像素单位 -> 经纬度 [x, y, z]\n   */\n  private pixelsPerDegree: [number, number, number];\n\n  /**\n   * 像素单位 -> 经纬度 [lng, lat] 使用泰勒级数展开\n   * 通过墨卡托坐标系下的差值估计世界坐标系下的差值\n   * @see https://zhuanlan.zhihu.com/p/57469121\n   */\n  private pixelsPerDegree2: [number, number, number];\n\n  /**\n   * 像素单位 -> 米\n   */\n  private pixelsPerMeter: [number, number, number];\n\n  /**\n   * 重新计算当前坐标系参数\n   * TODO: 使用 memoize 缓存参数以及计算结果\n   */\n  public refresh(): void {\n    // if (!this.needRefresh) {\n    //   return;\n    // }\n    const zoom = this.cameraService.getZoom();\n    const zoomScale = this.cameraService.getZoomScale();\n    const center = this.cameraService.getCenter();\n\n    // 计算像素到米以及经纬度之间的转换\n    const { pixelsPerMeter, pixelsPerDegree } = getDistanceScales({\n      // longitude: center[0],\n      latitude: center[1],\n      zoom,\n    });\n    this.viewportCenter = center;\n    this.viewportCenterProjection = [0, 0, 0, 0];\n    this.pixelsPerMeter = pixelsPerMeter;\n    this.pixelsPerDegree = pixelsPerDegree;\n    this.pixelsPerDegree2 = [0, 0, 0];\n\n    if (\n      this.coordinateSystem === CoordinateSystem.LNGLAT ||\n      this.coordinateSystem === CoordinateSystem.P20\n    ) {\n      // 继续使用相机服务计算的 VP 矩阵\n      this.cameraService.setViewProjectionMatrix(undefined);\n    } else if (this.coordinateSystem === CoordinateSystem.LNGLAT_OFFSET) {\n      this.calculateLnglatOffset(center, zoom);\n    } else if (this.coordinateSystem === CoordinateSystem.P20_OFFSET) {\n      this.calculateLnglatOffset(center, zoom, zoomScale, true);\n    }\n    this.needRefresh = false;\n\n    // TODO: 判断是否应用瓦片 & 常规坐标系\n  }\n\n  public getCoordinateSystem(): CoordinateSystem {\n    return this.coordinateSystem;\n  }\n\n  public setCoordinateSystem(coordinateSystem: CoordinateSystem) {\n    this.coordinateSystem = coordinateSystem;\n  }\n\n  public getViewportCenter(): [number, number] {\n    return this.viewportCenter;\n  }\n\n  public getViewportCenterProjection(): [number, number, number, number] {\n    return this.viewportCenterProjection;\n  }\n\n  public getPixelsPerDegree(): [number, number, number] {\n    return this.pixelsPerDegree;\n  }\n\n  public getPixelsPerDegree2(): [number, number, number] {\n    return this.pixelsPerDegree2;\n  }\n\n  public getPixelsPerMeter(): [number, number, number] {\n    return this.pixelsPerMeter;\n  }\n\n  private calculateLnglatOffset(\n    center: [number, number],\n    zoom: number,\n    scale?: number,\n    flipY?: boolean,\n  ) {\n    // http://uber-common.github.io/viewport-mercator-project/docs/api-reference/web-mercator-utils#code-classlanguage-textgetdistancescalesviewportcode\n    const {\n      pixelsPerMeter: ppm,\n      pixelsPerDegree: ppd,\n      pixelsPerDegree2,\n    } = getDistanceScales({\n      // longitude: center[0],\n      latitude: center[1],\n      zoom,\n      scale,\n      flipY,\n      highPrecision: true,\n    });\n\n    let viewMatrix = this.cameraService.getViewMatrix();\n    const projectionMatrix = this.cameraService.getProjectionMatrix();\n    let viewProjectionMatrix = mat4.multiply(\n      ([] as unknown) as mat4,\n      (projectionMatrix as unknown) as mat4,\n      (viewMatrix as unknown) as mat4,\n    );\n\n    // 经纬度投影到 Web 墨卡托坐标系\n    const positionPixels = this.cameraService.projectFlat(\n      [Math.fround(center[0]), Math.fround(center[1])],\n      Math.pow(2, zoom),\n    );\n\n    // Web 墨卡托坐标系通过 VP 矩阵变换到世界坐标系\n    this.viewportCenterProjection = (vec4.transformMat4(\n      ([] as unknown) as vec4,\n      [positionPixels[0], positionPixels[1], 0.0, 1.0],\n      (viewProjectionMatrix as unknown) as mat4,\n    ) as unknown) as [number, number, number, number];\n\n    // Always apply uncentered projection matrix if available (shader adds center)\n    viewMatrix = this.cameraService.getViewMatrixUncentered() || viewMatrix;\n\n    // Zero out 4th coordinate (\"after\" model matrix) - avoids further translations\n    viewProjectionMatrix = mat4.multiply(\n      ([] as unknown) as mat4,\n      (projectionMatrix as unknown) as mat4,\n      (viewMatrix as unknown) as mat4,\n    );\n    viewProjectionMatrix = mat4.multiply(\n      ([] as unknown) as mat4,\n      viewProjectionMatrix,\n      (VECTOR_TO_POINT_MATRIX as unknown) as mat4,\n    );\n\n    // 重新计算相机 VP 矩阵\n    this.cameraService.setViewProjectionMatrix(\n      (viewProjectionMatrix as unknown) as number[],\n    );\n\n    this.pixelsPerMeter = ppm;\n    this.pixelsPerDegree = ppd;\n    this.pixelsPerDegree2 = pixelsPerDegree2;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"56c60999eeb53ad611f0f0bf44933b77","cacheData":{"env":{}}}