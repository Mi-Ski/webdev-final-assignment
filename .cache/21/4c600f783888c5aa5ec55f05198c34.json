{"id":"../node_modules/@antv/l7-source/es/parser/image.js","dependencies":[{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\image.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\package.json","includedInParent":true,"mtime":1638980225037},{"name":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\package.json","includedInParent":true,"mtime":1638979319341},{"name":"@antv/l7-utils","loc":{"line":1,"column":25},"parent":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-source\\es\\parser\\image.js","resolved":"C:\\Users\\skiba\\Desktop\\webdev-final-assignment\\node_modules\\@antv\\l7-utils\\es\\index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = image;\n\nvar _l7Utils = require(\"@antv/l7-utils\");\n\nfunction image(data, cfg) {\n  var _cfg$extent = cfg.extent,\n      extent = _cfg$extent === void 0 ? [121.168, 30.2828, 121.384, 30.4219] : _cfg$extent;\n  var images = new Promise(function (resolve) {\n    loadData(data, function (res) {\n      resolve(res);\n    });\n  });\n  var resultData = {\n    originData: data,\n    images: images,\n    _id: 1,\n    dataArray: [{\n      _id: 0,\n      coordinates: [[extent[0], extent[1]], [extent[2], extent[3]]]\n    }]\n  };\n  return resultData;\n}\n\nfunction loadData(data, done) {\n  var url = data;\n  var imageDatas = [];\n\n  if (typeof url === 'string') {\n    (0, _l7Utils.getImage)({\n      url: url\n    }, function (err, img) {\n      imageDatas.push(img);\n      done(imageDatas);\n    });\n  } else {\n    var imageCount = url.length;\n    var imageindex = 0;\n    url.forEach(function (item) {\n      (0, _l7Utils.getImage)({\n        url: item\n      }, function (err, img) {\n        imageindex++;\n        imageDatas.push(img);\n\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n\n  return image;\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/parser/image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":6,"column":15},"generated":{"line":10,"column":0}},{"source":"../../src/parser/image.ts","name":"image","original":{"line":6,"column":24},"generated":{"line":10,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":6,"column":15},"generated":{"line":10,"column":14}},{"source":"../../src/parser/image.ts","name":"data","original":{"line":7,"column":2},"generated":{"line":10,"column":15}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":6,"column":15},"generated":{"line":10,"column":19}},{"source":"../../src/parser/image.ts","name":"cfg","original":{"line":8,"column":2},"generated":{"line":10,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":6,"column":15},"generated":{"line":10,"column":24}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":9,"column":15},"generated":{"line":10,"column":26}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":11,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":11,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":11,"column":17}},{"source":"../../src/parser/image.ts","name":"cfg","original":{"line":11,"column":60},"generated":{"line":11,"column":20}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":11,"column":23}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":11,"column":10},"generated":{"line":11,"column":24}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":11,"column":30}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":0}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":11,"column":10},"generated":{"line":12,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":12}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":15}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":26}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":31}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":36}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":37}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":19},"generated":{"line":12,"column":40}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":20},"generated":{"line":12,"column":41}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":19},"generated":{"line":12,"column":48}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":29},"generated":{"line":12,"column":50}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":19},"generated":{"line":12,"column":57}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":38},"generated":{"line":12,"column":59}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":19},"generated":{"line":12,"column":66}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":47},"generated":{"line":12,"column":68}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":19},"generated":{"line":12,"column":75}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":76}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":79}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":12,"column":90}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":13,"column":0}},{"source":"../../src/parser/image.ts","name":"images","original":{"line":12,"column":8},"generated":{"line":13,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":13,"column":12}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":13,"column":15}},{"source":"../../src/parser/image.ts","name":"Promise","original":{"line":12,"column":21},"generated":{"line":13,"column":19}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":13,"column":26}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":29},"generated":{"line":13,"column":27}},{"source":"../../src/parser/image.ts","name":"resolve","original":{"line":12,"column":30},"generated":{"line":13,"column":37}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":29},"generated":{"line":13,"column":44}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":42},"generated":{"line":13,"column":46}},{"source":"../../src/parser/image.ts","name":"loadData","original":{"line":13,"column":4},"generated":{"line":14,"column":0}},{"source":"../../src/parser/image.ts","name":"loadData","original":{"line":13,"column":4},"generated":{"line":14,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":14,"column":12}},{"source":"../../src/parser/image.ts","name":"data","original":{"line":13,"column":13},"generated":{"line":14,"column":13}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":14,"column":17}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":19},"generated":{"line":14,"column":19}},{"source":"../../src/parser/image.ts","name":"res","original":{"line":13,"column":20},"generated":{"line":14,"column":29}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":19},"generated":{"line":14,"column":32}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":33},"generated":{"line":14,"column":34}},{"source":"../../src/parser/image.ts","name":"resolve","original":{"line":14,"column":6},"generated":{"line":15,"column":0}},{"source":"../../src/parser/image.ts","name":"resolve","original":{"line":14,"column":6},"generated":{"line":15,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":15,"column":13}},{"source":"../../src/parser/image.ts","name":"res","original":{"line":14,"column":14},"generated":{"line":15,"column":14}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":15,"column":17}},{"source":"../../src/parser/image.ts","name":"resolve","original":{"line":14,"column":6},"generated":{"line":15,"column":18}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":16,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":13,"column":12},"generated":{"line":16,"column":5}},{"source":"../../src/parser/image.ts","name":"loadData","original":{"line":13,"column":4},"generated":{"line":16,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":17,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":17,"column":3}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":17,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":18,"column":0}},{"source":"../../src/parser/image.ts","name":"resultData","original":{"line":17,"column":8},"generated":{"line":18,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":31},"generated":{"line":18,"column":16}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":18,"column":19}},{"source":"../../src/parser/image.ts","name":"originData","original":{"line":18,"column":4},"generated":{"line":19,"column":0}},{"source":"../../src/parser/image.ts","name":"originData","original":{"line":18,"column":4},"generated":{"line":19,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":19,"column":14}},{"source":"../../src/parser/image.ts","name":"data","original":{"line":18,"column":16},"generated":{"line":19,"column":16}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":19,"column":20}},{"source":"../../src/parser/image.ts","name":"images","original":{"line":19,"column":4},"generated":{"line":20,"column":0}},{"source":"../../src/parser/image.ts","name":"images","original":{"line":19,"column":4},"generated":{"line":20,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":20,"column":10}},{"source":"../../src/parser/image.ts","name":"images","original":{"line":19,"column":4},"generated":{"line":20,"column":12}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":20,"column":18}},{"source":"../../src/parser/image.ts","name":"_id","original":{"line":20,"column":4},"generated":{"line":21,"column":0}},{"source":"../../src/parser/image.ts","name":"_id","original":{"line":20,"column":4},"generated":{"line":21,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":20,"column":7},"generated":{"line":21,"column":7}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":21,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":21,"column":10}},{"source":"../../src/parser/image.ts","name":"dataArray","original":{"line":21,"column":4},"generated":{"line":22,"column":0}},{"source":"../../src/parser/image.ts","name":"dataArray","original":{"line":21,"column":4},"generated":{"line":22,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":22,"column":13}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":22,"column":15}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":22,"column":16}},{"source":"../../src/parser/image.ts","name":"_id","original":{"line":23,"column":8},"generated":{"line":23,"column":0}},{"source":"../../src/parser/image.ts","name":"_id","original":{"line":23,"column":8},"generated":{"line":23,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":23,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":23,"column":11}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":23,"column":12}},{"source":"../../src/parser/image.ts","name":"coordinates","original":{"line":24,"column":8},"generated":{"line":24,"column":0}},{"source":"../../src/parser/image.ts","name":"coordinates","original":{"line":24,"column":8},"generated":{"line":24,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":24,"column":19},"generated":{"line":24,"column":17}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":24,"column":19}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":24,"column":20}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":25,"column":11},"generated":{"line":24,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":24,"column":27}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":18},"generated":{"line":24,"column":28}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":24,"column":29}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":24,"column":30}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":25,"column":22},"generated":{"line":24,"column":32}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":24,"column":38}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":29},"generated":{"line":24,"column":39}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":24,"column":40}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":24,"column":41}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":24,"column":42}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":24,"column":44}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":26,"column":11},"generated":{"line":24,"column":45}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":24,"column":51}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":24,"column":52}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":24,"column":53}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":24,"column":54}},{"source":"../../src/parser/image.ts","name":"extent","original":{"line":26,"column":22},"generated":{"line":24,"column":56}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":24,"column":62}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":29},"generated":{"line":24,"column":63}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":24,"column":64}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":24,"column":65}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":24,"column":66}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":25,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":25,"column":5}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":26,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":26,"column":3}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":27,"column":0}},{"source":"../../src/parser/image.ts","name":"resultData","original":{"line":31,"column":9},"generated":{"line":27,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":27,"column":19}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":32,"column":1},"generated":{"line":28,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":30,"column":0}},{"source":"../../src/parser/image.ts","name":"loadData","original":{"line":33,"column":9},"generated":{"line":30,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":30,"column":17}},{"source":"../../src/parser/image.ts","name":"data","original":{"line":33,"column":18},"generated":{"line":30,"column":18}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":30,"column":22}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":33,"column":43},"generated":{"line":30,"column":24}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":30,"column":28}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":33,"column":54},"generated":{"line":30,"column":30}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":31,"column":0}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":34,"column":8},"generated":{"line":31,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":31,"column":9}},{"source":"../../src/parser/image.ts","name":"data","original":{"line":34,"column":14},"generated":{"line":31,"column":12}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":31,"column":16}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":32,"column":0}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":35,"column":8},"generated":{"line":32,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":35,"column":38},"generated":{"line":32,"column":16}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":35,"column":41},"generated":{"line":32,"column":19}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":32,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":34,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":34,"column":6}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":36,"column":13},"generated":{"line":34,"column":13}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":34,"column":16}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":34,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":34,"column":29}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":31},"generated":{"line":34,"column":31}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":37,"column":4},"generated":{"line":35,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":35,"column":27}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":37,"column":15},"generated":{"line":36,"column":0}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":37,"column":15},"generated":{"line":36,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":36,"column":9}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":37,"column":15},"generated":{"line":36,"column":11}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":37,"column":0}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":37,"column":4},"generated":{"line":37,"column":5}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":37,"column":7}},{"source":"../../src/parser/image.ts","name":"err","original":{"line":37,"column":23},"generated":{"line":37,"column":17}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":37,"column":20}},{"source":"../../src/parser/image.ts","name":"img","original":{"line":37,"column":36},"generated":{"line":37,"column":22}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":37,"column":25}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":62},"generated":{"line":37,"column":27}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":38,"column":6},"generated":{"line":38,"column":0}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":38,"column":6},"generated":{"line":38,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":38,"column":16}},{"source":"../../src/parser/image.ts","name":"push","original":{"line":38,"column":17},"generated":{"line":38,"column":17}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":38,"column":6},"generated":{"line":38,"column":21}},{"source":"../../src/parser/image.ts","name":"img","original":{"line":38,"column":22},"generated":{"line":38,"column":22}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":38,"column":6},"generated":{"line":38,"column":25}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":39,"column":6},"generated":{"line":39,"column":0}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":39,"column":6},"generated":{"line":39,"column":6}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":39,"column":10}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":39,"column":11},"generated":{"line":39,"column":11}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":39,"column":21}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":39,"column":6},"generated":{"line":39,"column":22}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":40,"column":0}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":37,"column":4},"generated":{"line":40,"column":5}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":41,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":41,"column":3}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":41,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":42,"column":0}},{"source":"../../src/parser/image.ts","name":"imageCount","original":{"line":42,"column":10},"generated":{"line":42,"column":8}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":42,"column":18}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":42,"column":23},"generated":{"line":42,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":42,"column":24}},{"source":"../../src/parser/image.ts","name":"length","original":{"line":42,"column":27},"generated":{"line":42,"column":25}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":42,"column":31}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":43,"column":0}},{"source":"../../src/parser/image.ts","name":"imageindex","original":{"line":43,"column":8},"generated":{"line":43,"column":8}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":43,"column":18}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":43,"column":21}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":43,"column":22}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":44,"column":4},"generated":{"line":44,"column":0}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":44,"column":4},"generated":{"line":44,"column":4}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":44,"column":7},"generated":{"line":44,"column":7}},{"source":"../../src/parser/image.ts","name":"forEach","original":{"line":44,"column":8},"generated":{"line":44,"column":8}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":44,"column":4},"generated":{"line":44,"column":15}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":44,"column":16}},{"source":"../../src/parser/image.ts","name":"item","original":{"line":44,"column":17},"generated":{"line":44,"column":26}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":44,"column":30}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":44,"column":32}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":45,"column":6},"generated":{"line":45,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":45,"column":29}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":45,"column":17},"generated":{"line":46,"column":0}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":45,"column":17},"generated":{"line":46,"column":8}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":46,"column":11}},{"source":"../../src/parser/image.ts","name":"item","original":{"line":45,"column":22},"generated":{"line":46,"column":13}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":47,"column":0}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":45,"column":6},"generated":{"line":47,"column":7}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":47,"column":9}},{"source":"../../src/parser/image.ts","name":"err","original":{"line":45,"column":31},"generated":{"line":47,"column":19}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":47,"column":22}},{"source":"../../src/parser/image.ts","name":"img","original":{"line":45,"column":41},"generated":{"line":47,"column":24}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":47,"column":27}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":67},"generated":{"line":47,"column":29}},{"source":"../../src/parser/image.ts","name":"imageindex","original":{"line":46,"column":8},"generated":{"line":48,"column":0}},{"source":"../../src/parser/image.ts","name":"imageindex","original":{"line":46,"column":8},"generated":{"line":48,"column":8}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":48,"column":18}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":47,"column":8},"generated":{"line":49,"column":0}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":47,"column":8},"generated":{"line":49,"column":8}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":47,"column":18},"generated":{"line":49,"column":18}},{"source":"../../src/parser/image.ts","name":"push","original":{"line":47,"column":19},"generated":{"line":49,"column":19}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":47,"column":8},"generated":{"line":49,"column":23}},{"source":"../../src/parser/image.ts","name":"img","original":{"line":47,"column":24},"generated":{"line":49,"column":24}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":47,"column":8},"generated":{"line":49,"column":27}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":51,"column":0}},{"source":"../../src/parser/image.ts","name":"imageindex","original":{"line":48,"column":12},"generated":{"line":51,"column":12}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":51,"column":22}},{"source":"../../src/parser/image.ts","name":"imageCount","original":{"line":48,"column":27},"generated":{"line":51,"column":27}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":51,"column":37}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":48,"column":39},"generated":{"line":51,"column":39}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":49,"column":10},"generated":{"line":52,"column":0}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":49,"column":10},"generated":{"line":52,"column":10}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":52,"column":14}},{"source":"../../src/parser/image.ts","name":"imageDatas","original":{"line":49,"column":15},"generated":{"line":52,"column":15}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":52,"column":25}},{"source":"../../src/parser/image.ts","name":"done","original":{"line":49,"column":10},"generated":{"line":52,"column":26}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":50,"column":9},"generated":{"line":53,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":54,"column":0}},{"source":"../../src/parser/image.ts","name":"getImage","original":{"line":45,"column":6},"generated":{"line":54,"column":7}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":55,"column":0}},{"source":"../../src/parser/image.ts","name":"url","original":{"line":44,"column":4},"generated":{"line":55,"column":5}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":53,"column":3},"generated":{"line":56,"column":0}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":58,"column":0}},{"source":"../../src/parser/image.ts","name":"image","original":{"line":54,"column":9},"generated":{"line":58,"column":9}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":58,"column":14}},{"source":"../../src/parser/image.ts","name":null,"original":{"line":55,"column":1},"generated":{"line":59,"column":0}}],"sources":{"../../src/parser/image.ts":"import { IParserData } from '@antv/l7-core';\nimport { getImage } from '@antv/l7-utils';\ninterface IImageCfg {\n  extent: [number, number, number, number];\n}\nexport default function image(\n  data: string | string[],\n  cfg: IImageCfg,\n): IParserData {\n  // TODO: 为 extent 赋默认值\n  const { extent = [121.168, 30.2828, 121.384, 30.4219] } = cfg;\n  const images = new Promise((resolve) => {\n    loadData(data, (res: any) => {\n      resolve(res);\n    });\n  });\n  const resultData: IParserData = {\n    originData: data,\n    images,\n    _id: 1,\n    dataArray: [\n      {\n        _id: 0,\n        coordinates: [\n          [extent[0], extent[1]],\n          [extent[2], extent[3]],\n        ],\n      },\n    ],\n  };\n  return resultData;\n}\nfunction loadData(data: string | string[], done: any) {\n  const url = data;\n  const imageDatas: HTMLImageElement[] = [];\n  if (typeof url === 'string') {\n    getImage({ url }, (err: string, img: HTMLImageElement) => {\n      imageDatas.push(img);\n      done(imageDatas);\n    });\n  } else {\n    const imageCount = url.length;\n    let imageindex = 0;\n    url.forEach((item) => {\n      getImage({ url: item }, (err: any, img: HTMLImageElement) => {\n        imageindex++;\n        imageDatas.push(img);\n        if (imageindex === imageCount) {\n          done(imageDatas);\n        }\n      });\n    });\n  }\n  return image;\n}\n"},"lineCount":null}},"error":null,"hash":"bc7a89420fb9304c2b322127393ccc47","cacheData":{"env":{}}}